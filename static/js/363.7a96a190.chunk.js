"use strict";(self.webpackChunkmoviesapp=self.webpackChunkmoviesapp||[]).push([[363],{6363:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var i=n(2791),r=n(7689),o=n(9434),a=n(184),s=function(e){return function(){var t;return(null===(t=(0,o.v9)((function(e){return null===e||void 0===e?void 0:e.AuthReducer})))||void 0===t?void 0:t.user)?(0,a.jsx)(e,{}):(0,a.jsx)(r.Fg,{to:"/login"})}},l=n(6015),u=n(4565),d=function(){return{position:"relative",maxWidth:"100%",background:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between"}},c=function(e){return{position:"absolute",top:"50%",right:"right"===e&&0,left:"left"===e&&0,background:"#000",color:"#fff",borderRadius:"50%",padding:1,display:"flex",alignItems:"center",justifyContent:"center",marginInline:1,cursor:"pointer",zIndex:999,"&:hover":{opacity:"0.8"}}},f=function(){return{width:"100%",minHeight:300,position:"relative","&::before":{position:"absolute",content:"''",left:0,top:0,zIndex:99,height:"100%",width:{xs:20,md:100},backgroundImage:"linear-gradient(90deg,rgba(223, 230, 233,.9), transparent)"},"&::after":{position:"absolute",content:"''",right:0,top:0,zIndex:99,height:"100%",width:{xs:20,md:100},backgroundImage:"linear-gradient(-90deg,rgba(223, 230, 233,.9), transparent)"}}},p=function(){return{width:"100%",height:"auto",display:"flex",justifyContent:"left",alignItems:"center",overflow:"auto",position:"relative",scrollBehavior:"smooth",msOverflowStyle:"none",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},paddingBlock:2}},x=n(3385),v=n(260),h=n(885),g=n(2542),m=n(6970),j=n(199),b=n(5194),Z=n(6875),y=n(3811),w=n(580),k=n(7237);var I=n(7431),C=n(5700),R=n(2982),S=n(1044).Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"20ef98d95ad5f35c3052c8d537c9e5c7"},timeout:3e4}),_=function(e,t){var n=(0,i.useState)(),r=(0,h.Z)(n,2),o=r[0],a=r[1];return(0,i.useEffect)((function(){t&&S.get("movie/".concat(e,"/videos")).then((function(e){a.apply(void 0,(0,R.Z)(e.data.results.filter((function(e){return"Trailer"===e.type}))))}))}),[e,t]),{trailer:o}},M=function(e){var t=e.open,n=e.setOpen,i=e.id,r=_(i,t).trailer;return(0,a.jsx)(C.Z,{open:t,onClick:function(){n(!1)},sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},children:t&&(0,a.jsx)(l.Z,{sx:{width:{xs:"90%",md:"60%"}},children:(0,a.jsx)("iframe",{width:"100%",height:"415",src:"https://www.youtube.com/embed/".concat(null===r||void 0===r?void 0:r.key),title:"YouTube video player",frameBorder:"0",allowFullScreen:!0,style:{borderRadius:"15px",border:"none"}})})})},P=n(1647),z=function(){return{position:"relative",overflow:"hidden","&:hover":{"& .MuiBox-root":{transform:"scale(1)"},"& .MuiCardMedia-root":{transform:"scale(1.1)"}}}},O=function(){return{backgroundPosition:"top",transition:"ease-in-out .3s"}},W={transformOrigin:"bottom",transition:"ease-in-out .3s",position:"absolute",top:0,left:0,height:"100%",width:"100%",transform:"scale(0)",background:"rgba(0, 0, 0,.6)",display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start",color:"#ffff",cursor:"pointer"},B=function(){return{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"}},L=function(){return{display:"flex",alignItems:"center",justifyContent:"start",width:"100%",height:"auto",marginTop:1,paddingInline:1,overflow:"auto",msOverflowStyle:"none",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}}},F=function(e){var t,n,s=e.data,d=e.refer,c=void 0===d?null:d,f=(0,r.s0)(),p=(0,o.I0)(),x=(0,o.v9)((function(e){return e.AuthReducer})),v=(0,i.useState)(!1),C=(0,h.Z)(v,2),R=C[0],S=C[1];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{setOpen:S,open:R,id:null===s||void 0===s?void 0:s.id}),(0,a.jsxs)(g.Z,{sx:{minWidth:300,marginInline:1,userSelect:"none",boxShadow:" rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px"},ref:c,children:[(0,a.jsxs)(l.Z,{sx:z,onClick:function(){return S(!0)},children:[(0,a.jsx)(j.Z,{loading:"lazy",component:"img",sx:O,height:"300",image:"".concat("https://image.tmdb.org/t/p/w500").concat(s.backdrop_path),alt:"".concat(null===s||void 0===s?void 0:s.title,"'s image")}),(0,a.jsxs)(l.Z,{sx:W,children:[(0,a.jsxs)(l.Z,{sx:B,children:[(0,a.jsx)(y.Z,{"aria-label":"share",onClick:function(e){return e.stopPropagation()},children:(0,a.jsx)(w.Z,{sx:{color:"#fff"}})}),(0,a.jsx)(y.Z,{"aria-label":"like",onClick:function(e){e.stopPropagation(),null!==x&&void 0!==x&&x.user?p((0,P.fe)(null===s||void 0===s?void 0:s.id)):f("/")},children:(0,a.jsx)(k.Z,{sx:{color:null!==x&&void 0!==x&&x.likes.find((function(e){return(null===s||void 0===s?void 0:s.id)===e}))?"red":"#fff"}})})]}),(0,a.jsx)(l.Z,{sx:L,children:(0,a.jsx)(u.Z,{children:null===s||void 0===s?void 0:s.overview})})]})]}),(0,a.jsxs)(b.Z,{children:[(0,a.jsx)(I.Z,{title:null===s||void 0===s?void 0:s.title,children:(0,a.jsx)(u.Z,{sx:{fontWeight:"bold",cursor:"pointer"},variant:"body1",color:"text.primary",children:(t=null===s||void 0===s?void 0:s.title,n=25,t.length>n?"".concat(t.substr(0,n),"..."):t)})}),(0,a.jsxs)(u.Z,{variant:"body2",children:["released: ",(0,a.jsx)("span",{style:{opacity:.7},children:null===s||void 0===s?void 0:s.release_date})]})]}),(0,a.jsxs)(Z.Z,{children:[(0,a.jsx)(m.Z,{name:"read-only",value:null===s||void 0===s?void 0:s.vote_average,precision:.5,max:10,readOnly:!0}),(0,a.jsxs)(u.Z,{sx:{opacity:.6,fontStyle:"italic"},variant:"body2",children:["(",null===s||void 0===s?void 0:s.vote_count,")"]})]})]})]})},T=n(5366),E=n(4948),A=function(e){var t=e.type,n=e.loading,r=e.data,s=(0,o.I0)(),u=(0,o.v9)((function(e){return e.MoviesReducer})),h="top_rated"===t?u.topRatedCount:u.popularCount,g=(0,i.useRef)(null),m=function(e){g.current.scrollLeft+="right"===e?1e3:-1e3},j=!!(h>(null===r||void 0===r?void 0:r.length)),b=(0,i.useRef)(),Z=(0,i.useCallback)((function(e){n||(b.current&&b.current.disconnect(),b.current=new IntersectionObserver((function(e){e[0].isIntersecting&&j&&("top_rated"===t?s((0,E.Sl)(u.topRatedPage+=1)):(0,E.fW)(s((0,E.fW)(u.popularPage+=1))))})),e&&b.current.observe(e))}),[n,j]);return(0,a.jsxs)(l.Z,{sx:d,children:[(0,a.jsx)(l.Z,{onClick:function(){return m("left")},sx:c("left"),children:(0,a.jsx)(v.Z,{})}),(0,a.jsx)(l.Z,{sx:f,children:(0,a.jsx)(l.Z,{ref:g,sx:p,children:r&&r.map((function(e,t){return r.length===t+1?(0,a.jsx)(F,{refer:Z,data:e},t):(0,a.jsx)(F,{ref:null,data:e},t)}))})}),(0,a.jsx)(l.Z,{sx:c("right"),onClick:function(){return m("right")},children:n?(0,a.jsx)(T.Z,{primaryColor:"#000",customSize:25}):(0,a.jsx)(x.Z,{})})]})},D=function(){var e=(0,o.v9)((function(e){return e.MoviesReducer})).topRatedPage,t=(0,o.I0)(),n=(0,i.useState)(1),r=(0,h.Z)(n,2),a=r[0],s=r[1],l=(0,i.useState)([]),u=(0,h.Z)(l,2),d=u[0],c=u[1];return(0,i.useEffect)((function(){s(!0),S.get("movie/top_rated",{params:{page:e}}).then((function(e){c((function(t){return[].concat((0,R.Z)(t),(0,R.Z)(e.data.results))})),s(!1),t((0,E.jF)(e.data.total_results))})).finally((function(){s(!1)}))}),[e]),{moviesList:d,loading:a}},H=function(){var e=D(),t=e.moviesList,n=e.loading;return(0,a.jsxs)(l.Z,{sx:{marginBlock:10},children:[(0,a.jsx)(u.Z,{sx:{paddingInline:2},variant:"h4",children:"Top Rated Movies"}),(0,a.jsx)(A,{data:t,loading:n,type:"top_rated"})]})},U=function(){var e=(0,o.v9)((function(e){return e.MoviesReducer})).popularPage,t=(0,o.I0)(),n=(0,i.useState)(1),r=(0,h.Z)(n,2),a=r[0],s=r[1],l=(0,i.useState)([]),u=(0,h.Z)(l,2),d=u[0],c=u[1];return(0,i.useEffect)((function(){s(!0),S.get("movie/popular",{params:{page:e}}).then((function(e){c((function(t){return[].concat((0,R.Z)(t),(0,R.Z)(e.data.results))})),t((0,E.ag)(e.data.total_results))})).finally((function(){s(!1)}))}),[e]),{moviesList:d,loading:a}},Y=function(){var e=U(),t=e.moviesList,n=e.loading;return(0,a.jsxs)(l.Z,{sx:{marginBlock:10},children:[(0,a.jsx)(u.Z,{sx:{paddingInline:2},variant:"h4",children:"Popular Movies"}),(0,a.jsx)(A,{data:t,loading:n,type:"popular"})]})},q=s((function(){return(0,a.jsxs)("div",{children:[(0,a.jsx)(H,{}),(0,a.jsx)(Y,{})]})}))}}]);
//# sourceMappingURL=363.7a96a190.chunk.js.map